<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script type="text/javascript" src="http://rangy.googlecode.com/svn/trunk/currentrelease/rangy-core.js"></script>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>SocialCops</title>
  <meta name="description" content="SocialCops FrontEnd engineer task">
  <meta name="author" content="Abhinav Agrawal">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="images/favicon.png">

</head>
<body>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <div class="container">
    <div class="row">
    <h1 style="margin-top: 5%;">Social Cops Front end task</h1>
    <hr>
      <div style="margin-top: 10%;margin-bottom: 10%;min-height: 150px;">
        <div id="story" contenteditable="true" style="min-height: 100px;border: double;">
          <p>Text Goes Here</p>
        </div>
      </div>
    </div>
  </div>
  <script>
      var story = document.getElementById('story');
        story.addEventListener("keypress", function(e) {
            console.log(e.keyCode)
            if(e.keyCode==13)
            {
                e.preventDefault();
                console.log("enter pressed");
                story.focus();
                pasteHtmlAtCaret('<br><p>INSERTED</p>');
                return false;
            }
        });
  </script>
  <script>
     function pasteHtmlAtCaret(html) {
          var sel, range;
          if (window.getSelection) {
              // IE9 and non-IE
              sel = window.getSelection();
              if (sel.getRangeAt && sel.rangeCount) {
                  range = sel.getRangeAt(0);
                  range.deleteContents();
                  var el = document.createElement("div");
                  el.innerHTML = html;
                  var frag = document.createDocumentFragment(), node, lastNode;
                  while ( (node = el.firstChild) ) {
                      lastNode = frag.appendChild(node);
                  }
                  var firstNode = frag.firstChild;
                  range.insertNode(frag);
                  
                  if (lastNode) {
                      range = range.cloneRange();
                      range.setStartAfter(lastNode);
                      range.collapse(true);
                      sel.removeAllRanges();
                      sel.addRange(range);
                  }
              }
          } else if ( (sel = document.selection) && sel.type != "Control") {
              // IE < 9
              var originalRange = sel.createRange();
              originalRange.collapse(true);
              sel.createRange().pasteHTML(html);
              if (selectPastedContent) {
                  range = sel.createRange();
                  range.setEndPoint("StartToStart", originalRange);
                  range.select();
              }
          }
        };
  </script>

<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>
</html>
